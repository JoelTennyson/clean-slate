# Processed datasets (and scripts to do the processing)

This folder contains datasets that have been processed into a format usable for final analyses, as well as the scripts used to convert cleaned data (stored in the cleaned folder) into the processed version.

Please document your code (with comments mentioning how and why you've wrangled the dataset) and add your dataset to this readme with a quick blurb listing:
- its source (cleaned dataset or original source location)
- the script used to process the dataset
- extent (temporal/other windowing factors, size of the dataset, and if it's a sample, how large of a sample it is and how samples were chosen)
- any non-obvious variables (to newcomers to the dataset)
- and uses so far!

### Main files to use

|File / Folder|Description|Used / Generated by|
|----|----|----|
|[merged_nw.csv](merged_nw.csv)|Prosecution data from the Northwestern DA, merged with expungement information. Age has been cleaned up (ages <0 replaced with missing). |created by [MA_Data-2_MergeCharges_alt.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges_alt.ipynb)|
|[prosecution_suffolk.csv](prosecution_suffolk.csv)|Prosecution data from the Suffolk DA, merged with expungement information. Note: age and DOB were not provided. |created by [MA_Data-2_MergeCharges_alt.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges_alt.ipynb)||
|[prosecution_charges_detailed.csv](prosecution_charges_detailed.csv)|Unique charges that appear in NW and/or Suffolk prosecution data, with markers for sex and murder charges. <br><br> Built off of prosecution_charges, which was created by collapsing raw suffolk and NW data to unique charge descriptions, extracting chapter & section, and merging on chapter & section with the `Master crime list` google excel sheet. <br><br> Next version added additional expungability info, mostly from manual updates (see `raw` data [readme](https://github.com/codeforboston/clean-slate/blob/master/data/raw/README.md).) <br><br> Next version adds columns for whether the crime is sex or murder related. |created by [MA_Data.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data.ipynb). Used as both an input and output of [new_expungability_info_join_emily.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/new_expungability_info_join_emily.R) and also [sex_murder_columns.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_murder_columns.R) <br> <br> 'detailed' version created by [MA_Data_revised_joining.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data_revised_joining.R)|

### Beware these files
They may be tricky, out of date, etc. This shows the progression of the data.

|File / Folder|Description|Used / Generated by|
|----|----|----|
|[prosecution_northwestern.csv](prosecution_northwestern.csv)|Prosecution data from the Northwestern DA, with an initial link to expungement info. Much of the expungability may be incorrect and/or missing -- there will be duplicate rows with one showing the offense is expungable, the other saying it is not. This is fixed in the versions of the file described above (merge_nw)|created by [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb)|
|[prosecution_suffolk.csv](prosecution_suffolk.csv)|Prosecution data from the Suffolk DA. Same issues as above. |created by  [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb)|
|[prosecution_charges.csv](prosecution_charges.csv)|Unique charges that appear in prosecution data, with markers for sex and murder charges. <br><br> Original version was created from raw suffolk and NW data, collapsing to unique charge descriptions, extracting chapter & section, and merging on chapter & section with the `Master crime list` google excel sheet. <br><br> Next version added additional expungability info, mostly from manual updates (see `raw` data [readme](https://github.com/codeforboston/clean-slate/blob/master/data/raw/README.md).) <br><br> Next version adds columns for whether the crime is sex or murder related. |created by  [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb). Used as both an input and output of [new_expungability_info_join_emily.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/new_expungability_info_join_emily.R) and also [sex_murder_columns.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_murder_columns.R)|
